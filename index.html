<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>منظومه سیاره‌ای</title>
<style>
body { margin: 0; overflow: hidden; background: black; font-family: sans-serif; }
#infoBox {
  position: absolute; top: 10px; left: 10px;
  padding: 10px; background: rgba(0,0,0,0.6);
  color: #fff; border-radius: 5px; max-width: 300px;
}
</style>
</head>
<body>
<div id="infoBox">روی هر سیاره کلیک کنید</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/examples/js/controls/OrbitControls.js"></script>

<script>
// --- صحنه، دوربین، رندر ---
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
camera.position.set(0, 20, 50);

const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

const controls = new THREE.OrbitControls(camera, renderer.domElement);
controls.enableDamping = true;

// --- نور ---
const light = new THREE.PointLight(0xffffff, 1.5);
light.position.set(50,50,50);
scene.add(light);
scene.add(new THREE.AmbientLight(0x404040));

// --- ستاره (خورشید) ---
const sun = new THREE.Mesh(
  new THREE.SphereGeometry(5, 32, 32),
  new THREE.MeshBasicMaterial({color: 0xffcc00})
);
scene.add(sun);

// --- آرایه برای سیارات ---
const planets = [];

// سیاره تو
const planet1 = new THREE.Mesh(
  new THREE.SphereGeometry(6,32,32),
  new THREE.MeshStandardMaterial({color:0x3399ff})
);
planet1.userData = {info: "سیاره شما: سه برابر زمین، دارای خشکی و اقیانوس"};
scene.add(planet1);
planets.push({mesh: planet1, radius: 18, speed: 0.01, angle: 0});

// قمر سیاره تو
const moon = new THREE.Mesh(
  new THREE.SphereGeometry(2.2,32,32),
  new THREE.MeshStandardMaterial({color:0xaa66ff})
);
moon.position.x = 9;
planet1.add(moon);

// سیاره مقابل
const planet2 = new THREE.Mesh(
  new THREE.SphereGeometry(5,32,32),
  new THREE.MeshStandardMaterial({color:0x55ff88})
);
planet2.userData = {info:"سیاره مقابل: قابل سکونت، اقلیم متعادل"};
scene.add(planet2);
planets.push({mesh: planet2, radius: 28, speed: 0.008, angle: Math.PI});

// سیاره سوم (ترکیبی)
const planet3 = new THREE.Mesh(
  new THREE.SphereGeometry(4.5,32,32),
  new THREE.MeshStandardMaterial({color:0xff66cc})
);
planet3.userData = {info:"سیاره ترکیبی: ویژگی همه سیارات هست"};
scene.add(planet3);
planets.push({mesh: planet3, radius: 35, speed: 0.006, angle: Math.PI/2});

// --- اطلاعات فارسی کلیک ---
const infoBox = document.getElementById('infoBox');
const raycaster = new THREE.Raycaster();
const mouse = new THREE.Vector2();
window.addEventListener('click', (event)=>{
  mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
  mouse.y = - (event.clientY / window.innerHeight) * 2 + 1;
  raycaster.setFromCamera(mouse, camera);
  const intersects = raycaster.intersectObjects(planets.map(p=>p.mesh));
  if(intersects.length>0){
    infoBox.style.display = "block";
    infoBox.innerText = intersects[0].object.userData.info;
  } else {
    infoBox.style.display = "none";
  }
});

// --- انیمیشن و چرخش سیارات ---
function animate(){
  requestAnimationFrame(animate);
  planets.forEach(p=>{
    p.angle += p.speed;
    p.mesh.position.x = Math.cos(p.angle) * p.radius;
    p.mesh.position.z = Math.sin(p.angle) * p.radius;
  });
  controls.update();
  renderer.render(scene,camera);
}
animate();

// --- تغییر اندازه صفحه ---
window.addEventListener('resize', ()=>{
  camera.aspect = window.innerWidth/window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>
</body>
</html>